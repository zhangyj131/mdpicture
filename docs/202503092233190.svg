<svg xmlns="http://www.w3.org/2000/svg" width="1073px" height="1667px" version="1.1"><defs/><g transform="translate(0.5,0.5)"><path d="M 771 41 L 651 41 L 651 154.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 651 159.88 L 647.5 152.88 L 651 154.63 L 654.5 152.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 81 L 831 154.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 159.88 L 827.5 152.88 L 831 154.63 L 834.5 152.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 891 41 L 1011 41 L 1011 154.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1011 159.88 L 1007.5 152.88 L 1011 154.63 L 1014.5 152.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="831" cy="41" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 41px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">alert启动</div></div></div></foreignObject><text x="831" y="45" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 651 221 L 651 321 L 764.63 321" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 769.88 321 L 762.88 324.5 L 764.63 321 L 762.88 317.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="591" y="161" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 191px; margin-left: 592px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">alert副本1</div></div></div></foreignObject><text x="651" y="195" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 831 221 L 831 284.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 289.88 L 827.5 282.88 L 831 284.63 L 834.5 282.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="771" y="161" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 191px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">alert副本2</div></div></div></foreignObject><text x="831" y="195" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 1011 221 L 1011 321 L 897.37 321" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 892.12 321 L 899.12 317.5 L 897.37 321 L 899.12 324.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="951" y="161" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 191px; margin-left: 952px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">alert副本3</div></div></div></foreignObject><text x="1011" y="195" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 831 351 L 831 394.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 399.88 L 827.5 392.88 L 831 394.63 L 834.5 392.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="771" y="291" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 321px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">当前节点的ip保存到注册表</div></div></div></foreignObject><text x="831" y="325" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 831 461 L 831 504.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 509.88 L 827.5 502.88 L 831 504.63 L 834.5 502.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 551 431 L 431 431 L 431 544.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 431 549.88 L 427.5 542.88 L 431 544.63 L 434.5 542.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 428px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">定时任务</div></div></div></foreignObject><text x="461" y="431" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 771 431 L 677.37 431" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 672.12 431 L 679.12 427.5 L 677.37 431 L 679.12 434.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 433px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">async</div></div></div></foreignObject><text x="711" y="436" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="771" y="401" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 431px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">节点heartBeat到注册表保持心跳，如180s没有则从注册表移除</div></div></div></foreignObject><text x="831" y="435" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 831 571 L 831 614.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 831 619.88 L 827.5 612.88 L 831 614.63 L 834.5 612.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="771" y="511" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 541px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">查询注册表所有节点并缓存</div></div></div></foreignObject><text x="831" y="545" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 431 611 L 431 684.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 431 689.88 L 427.5 682.88 L 431 684.63 L 434.5 682.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="371" y="551" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 581px; margin-left: 372px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">10s向注册表更新一次心跳。检测注册节点有无变化</div></div></div></foreignObject><text x="431" y="585" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="771" y="621" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 651px; margin-left: 772px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">一致性hash添加节点</div></div></div></foreignObject><text x="831" y="655" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 71 905 L 71 885 L 61 885 L 61 914.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 61 919.88 L 57.5 912.88 L 61 914.63 L 64.5 912.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 888px; margin-left: 61px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">async</div></div></div></foreignObject><text x="61" y="891" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><ellipse cx="611" cy="431" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 431px; margin-left: 552px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">运行阶段</div></div></div></foreignObject><text x="611" y="435" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 471 731 L 521 731 L 521 581 L 497.37 581" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 492.12 581 L 499.12 577.5 L 497.37 581 L 499.12 584.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 666px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">无变化</div></div></div></foreignObject><text x="521" y="669" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 431 771 L 431 844.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 431 849.88 L 427.5 842.88 L 431 844.63 L 434.5 842.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 811px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">有节点增加</div></div></div></foreignObject><text x="431" y="814" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 391 731 L 241 731 L 241 844.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 241 849.88 L 237.5 842.88 L 241 844.63 L 244.5 842.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 731px; margin-left: 256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; background-color: #ffffff; white-space: nowrap; ">有节点删除</div></div></div></foreignObject><text x="256" y="734" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 431 691 L 471 731 L 431 771 L 391 731 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 731px; margin-left: 392px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">节点</div></div></div></foreignObject><text x="431" y="735" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 431 911 L 431 941 L 261 941 L 261 988.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 261 993.88 L 257.5 986.88 L 261 988.63 L 264.5 986.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="371" y="851" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 881px; margin-left: 372px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">一致性hash添加节点</div></div></div></foreignObject><text x="431" y="885" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 241 911 L 241 953 L 221 953 L 221.03 994.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 221.04 999.88 L 217.53 992.88 L 221.03 994.63 L 224.53 992.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="181" y="851" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 881px; margin-left: 182px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">一致性hash移除节点</div></div></div></foreignObject><text x="241" y="885" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 61 921 L 61 941 L 188.2 941 L 188.16 989.47" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 188.16 994.72 L 184.67 987.72 L 188.16 989.47 L 191.67 987.72 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="61" cy="881" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 881px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">运行阶段</div></div></div></foreignObject><text x="61" y="885" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 231 1055 L 231 1108.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 231 1113.88 L 227.5 1106.88 L 231 1108.63 L 234.5 1106.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="995" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1025px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">60s查询一次plan表id，遍历plan。或者节点变化时触发</div></div></div></foreignObject><text x="231" y="1029" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 231 1175 L 231 1228.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 231 1233.88 L 227.5 1226.88 L 231 1228.63 L 234.5 1226.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="1115" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1145px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">一致性hash查询获取planId归属的当前节点的集合</div></div></div></foreignObject><text x="231" y="1149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 231 1295 L 231 1348.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 231 1353.88 L 227.5 1346.88 L 231 1348.63 L 234.5 1346.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="1235" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1265px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">和当前节点已执行的planTask的id集合比对，</div></div></div></foreignObject><text x="231" y="1269" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 601 1061 L 531 1061 L 531 1174.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 531 1179.88 L 527.5 1172.88 L 531 1174.63 L 534.5 1172.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="661" cy="1061" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1061px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">运行阶段<br />平台修改告警</div></div></div></foreignObject><text x="661" y="1065" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 471 1211 L 381 1211 L 381 1505 L 297.37 1505" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 292.12 1505 L 299.12 1501.5 L 297.37 1505 L 299.12 1508.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="471" y="1181" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1211px; margin-left: 472px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">保存planId到plan_change表</div></div></div></foreignObject><text x="531" y="1215" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 231 1415 L 231 1468.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 231 1473.88 L 227.5 1466.88 L 231 1468.63 L 234.5 1466.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="1355" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1385px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">不存在当前task集合的planId加入执行</div></div></div></foreignObject><text x="231" y="1389" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 941 1081 L 941 1154.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 941 1159.88 L 937.5 1152.88 L 941 1154.63 L 944.5 1152.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="941" cy="1041" rx="60" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1041px; margin-left: 882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">alert停止</div></div></div></foreignObject><text x="941" y="1045" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 941 1221 L 941 1274.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 941 1279.88 L 937.5 1272.88 L 941 1274.63 L 944.5 1272.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="881" y="1161" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1191px; margin-left: 882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">从注册表移除该节点</div></div></div></foreignObject><text x="941" y="1195" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="881" y="1281" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1311px; margin-left: 882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">取消当前节点全部任务</div></div></div></foreignObject><text x="941" y="1315" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><path d="M 231 1535 L 231 1598.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 231 1603.88 L 227.5 1596.88 L 231 1598.63 L 234.5 1596.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="171" y="1475" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1505px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">存在当前task集合且存在plan_change表，先取消再添加执行，同时从plan_change移除。否则忽略</div></div></div></foreignObject><text x="231" y="1509" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g><rect x="171" y="1605" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1635px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; ">存在当前task集合的planId但不在遍历后一致性hash获取到的planId，取消任务</div></div></div></foreignObject><text x="231" y="1639" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[Not supported by viewer]</text></switch></g></g></svg>